## 使用基于OpenWrt的软路由实现科学上网
<div align="center">
    <img src="https://avatars0.githubusercontent.com/u/2528830?s=200&v=4">
    <br>
</div>

![](https://raw.githubusercontent.com/ckjbug/xiaokui/master/split.png)

#### 软路由是什么？有哪些软路由？

软路由，可通过极路由搭建而成，顾名思义就是软件路由器，就是不需要专门的硬件路由器来支持，而可以直接在PC机或者其他嵌入式设备上安装路由软件，即可实现比硬路由更多的功能。其实安装软路由很简单，我们根据使用的操作不同可以分为基于windows平台和基于Linux/bsd平台开发的软件路由器，基于Windows平台的软件路由器比较常见的有ISA Server、Winroute Firewall等，这些软件都是商业化的，通常根据授权用户数不同收费而不同，购买正版的软件路由器的费用对许多中小型企业来说无疑是一笔不小的开支。

基于Unix/Linux平台的软件路由器大家一般接触较少，目前国内外基于Unix/Linux平台软路由是最好的选择，受益于开放源码运行，这些软件路由器大多是免费的，而且有些软路由在功能和稳定性上并不比商业软件的那些差，基于FreeBSD系统的软路由可以说是稳定性最高的，常见的有[OpenWrt](https://openwrt.org/)、[pfSense](https://www.pfsense.org/)、RouterOS、m0n0Wall、SmoothWall、Ipcop、CoyoteLinux，国内的爱快软路由等，这些系统共有的特点是一般对硬件要求较低，甚至只需要一台PC，一个U盘，两块网卡就可以安装出一台非常专业的软件路由器，这对很多有淘汰下来的低档电脑的朋友来说，意味着拿一台淘汰的电脑或者一个闲置的安卓手机，安装一套免费的路由器软件，不花一分钱就DIY出一台专业的路由器，而且这些系统自身也包含了NAT功能，同时可以实现宽带共享，宽带扩展，科学上网等意想不到的功能。

当然你也可以给你的路由器刷入OpenWrt或者pfSense等系统，就像给手机刷系统一样，但是有很多硬件和软件上的局限性，不过大多软路由都会有个硬件支持表供不同的路由器硬件厂商参考，自己去刷一个的话，我也没试过，不但麻烦还有点风险。

#### OpenWrt是什么？

OpenWrt是一个嵌入式Linux发行版的软路由，可以安装在各种路由器或嵌入式设备、PC上。OpenWrt有一个Web界面，它可能比您硬件的默认固件更稳定。

#### OpenWrt有什么功能？

- 使用SSH服务器进行SSH隧道：OpenWrt包含SSH服务器，因此您可以访问其终端。如果将SSH服务器暴露给Internet（确保使用基于密钥的身份验证而不是弱密码来保护它），则可以远程访问它并使用SSH隧道通过加密连接转发流量。这使您可以安全地从公共Wi-Fi访问网站，并访问只能在国外旅行时访问的网站。
- 设置VPN：SSH隧道 在很多方面与VPN类似，但您也可以在OpenWrt路由器上设置合适的VPN。
安装BitTorrent客户端：通过某种网络连接存储  或带有集成USB端口和连接USB存储设备的路由器，您可以将路由器本身用作BitTorrent客户端。
- 运行服务器软件：OpenWrt的软件存储库包含允许其用作Web服务器，IRC服务器，BitTorrent跟踪器等的软件包。您可能已经在使用路由器了，那么为什么不使用与服务器相同的路由器功能呢？对于初学者来说，路由器所需的功率远低于计算机。
- 执行流量整形和QoS：OpenWrt允许您对通过路由器的数据包执行流量整形和服务质量，优先处理某些类型的流量。您甚至可以优先处理流向特定计算机的流量，确定流向其他计算机的流量的优先级。
- 创建访客网络：OpenWrt的Wiki包含为访客设置特殊无线网络的说明，为了安全起见，该网络与主网络分开。您甚至可以限制访客网络的速度。
- 捕获和分析网络流量：您可以使用tcpdump将通过路由器传输的所有数据包记录到网络共享，并使用Wireshark等工具打开文件，以分析网络流量。

它是一个嵌入式Linux系统，提供各种各样的软件包，并且在很多方面它都像运行Linux的计算机一样灵活 - 尽管它的硬件受到更多约束。


#### 为什么选择使用OpenWrt制作软路由？

如果您对将路由器变为SSH服务器，VPN，流量整形系统或BitTorrent客户端的想法垂涎三尺 - 请考虑使用OpenWrt。因为OpenWrt开源，而且是基于Linux，是主要针对嵌入式设备的Linux操作系统，比较稳定的一款软路由，OpenWrt不是一个单一且不可更改的固件，而是提供了一个完全可写的文件系统及软件包管理。这使您可以不使用供应商提供的应用程序选择和配置，而是通过使用软件包来定制设备以适应任何应用程序。对于开发人员来说，OpenWrt是一个构建应用程序的框架，无需在其周围构建完整的固件; 对于普通用户来说，这意味着拥有了完全定制的能力，能以意想不到的方式使用该设备。


#### 怎么安装OpenWrt软路由实现科学上网？

因为安装OpenWrt的方法不难，网上也有很多博客和视频教程介绍，我这里都不详细讲解了，推荐几个简单教程大家去看看。[VirtualBox搭建OpenWrt软路由](https://blog.csdn.net/lvshaorong/article/details/80935503)

我要介绍的是一些OpenWrt更深入的一些功能的配置，比如说我们最为关心的VPN服务、扩展宽带提高网速的配置。

---------

相关链接：

[OpenWrt开源项目](https://github.com/openwrt)
[软路由缺点与优点有哪些](https://baike.1688.com/doc/view-d2742189.html)

